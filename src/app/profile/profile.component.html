<div class="max-w-3xl mx-auto">
  <h2 class="text-3xl font-semibold mb-6">Profil</h2>

  <!-- Ladezustand -->
  <div *ngIf="loading" class="text-gray-500">Laden...</div>

  <!-- Fehleranzeige -->
  <div *ngIf="error" class="text-red-500 mb-4">{{ error }}</div>

  <!-- Benutzerdaten -->
  <div class="bg-gray-100 p-6 rounded-lg shadow-lg" *ngIf="!loading && !error">
    <ng-container *ngIf="!editMode; else editForm">
      <p class="mb-4"><strong>Name:</strong> {{ user.fullName }}</p>
      <p class="mb-4"><strong>E-Mail:</strong> {{ user.email }}</p>
      <p class="mb-4"><strong>Telefon:</strong> {{ user.phone }}</p>
      <p class="mb-4"><strong>Adresse:</strong> {{ user.address }}</p>
      <button
        (click)="toggleEditMode()"
        class="bg-blue-400 text-white py-2 px-4 rounded hover:bg-blue-500"
      >
        Bearbeiten
      </button>
    </ng-container>

    <ng-template #editForm>
      <form (ngSubmit)="saveProfile()" class="space-y-4">
        <div>
          <label for="fullName" class="block text-gray-700">Name</label>
          <input
            id="fullName"
            [(ngModel)]="user.fullName"
            name="fullName"
            type="text"
            class="w-full border rounded p-2"
            required
          />
        </div>
        <div>
          <label for="email" class="block text-gray-700">E-Mail</label>
          <input
            id="email"
            [(ngModel)]="user.email"
            name="email"
            type="email"
            class="w-full border rounded p-2"
            required
          />
        </div>
        <div>
          <label for="phone" class="block text-gray-700">Telefon</label>
          <input
            id="phone"
            [(ngModel)]="user.phone"
            name="phone"
            type="text"
            class="w-full border rounded p-2"
            required
          />
        </div>
        <div>
          <label for="address" class="block text-gray-700">Adresse</label>
          <input
            id="address"
            [(ngModel)]="user.address"
            name="address"
            type="text"
            class="w-full border rounded p-2"
            required
          />
        </div>
        <div class="flex gap-4">
          <button
            type="submit"
            class="bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700"
          >
            Speichern
          </button>
          <button
            type="button"
            (click)="toggleEditMode()"
            class="bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700"
          >
            Abbrechen
          </button>
        </div>
      </form>
    </ng-template>
  </div>
</div>
